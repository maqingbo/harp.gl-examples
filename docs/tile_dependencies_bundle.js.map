{"version":3,"sources":["webpack://@here/harp-examples/./src/tile_dependencies.ts","webpack://@here/harp-examples/external \"THREE\"","webpack://@here/harp-examples/webpack/bootstrap","webpack://@here/harp-examples/webpack/runtime/define property getters","webpack://@here/harp-examples/webpack/runtime/global","webpack://@here/harp-examples/webpack/runtime/hasOwnProperty shorthand","webpack://@here/harp-examples/webpack/runtime/make namespace object","webpack://@here/harp-examples/webpack/runtime/jsonp chunk loading","webpack://@here/harp-examples/webpack/startup"],"names":[],"mappings":"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","file":"tile_dependencies_bundle.js","sourcesContent":["/*\n * Copyright (C) 2020-2021 HERE Europe B.V.\n * Licensed under Apache 2.0, see full license in LICENSE\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Theme } from \"@here/harp-datasource-protocol\";\nimport { DebugTileDataSource } from \"@here/harp-debug-datasource\";\nimport { TileKey, webMercatorTilingScheme } from \"@here/harp-geoutils\";\nimport { MapControls, MapControlsUI } from \"@here/harp-map-controls\";\nimport { CopyrightElementHandler, MapView, PickResult, Tile } from \"@here/harp-mapview\";\nimport {\n    DataProvider,\n    TileDataSource,\n    TileDataSourceOptions,\n    TileFactory\n} from \"@here/harp-mapview-decoder\";\nimport { GUI } from \"dat.gui\";\n\nimport { CUSTOM_DECODER_SERVICE_TYPE } from \"../decoder/custom_decoder_defs\";\n\n/**\n * This example shows how to use the {@link @here/harp-mapview#Tile.dependencies} property to ensure\n * that tiles which have geometry overlapping other.\n *\n * If you pan further enough left / right, you will see that the tile disappears.\n *\n * It combines part of the https://www.harp.gl/docs/master/examples/#object-picking.html and\n * https://www.harp.gl/docs/master/examples/#datasource_custom.html examples.\n * ```\n * {@link @here/harp-mapview#Tile}s that contain the geometry from another Tile need to have a\n * reference to the Tile containing the overlapping geometry, this is achieved using the\n * `dependencies` property of the {@link @here/harp-datasource-protocol#DecodedTile}\n * ```typescript\n * [[include:tile_dependencies.ts]]\n * ```\n **/\n\nexport namespace TileDependenciesExample {\n    const guiOptions = { tileDependencies: false };\n    document.body.innerHTML += `\n        <style>\n            #mouse-picked-result{\n                position:absolute;\n                bottom:5px;\n                border-radius: 5px;\n                margin-left:10px;\n                padding: 9px 12px;\n                background: #37afaa;\n                display: inline-block;\n                visibility: hidden;\n                text-align: left;\n                right:50px;\n            }\n            #mapCanvas {\n              top: 0;\n            }\n        </style>\n        <pre id=\"mouse-picked-result\"></pre>\n    `;\n    class CustomDataProvider extends DataProvider {\n        enableTileDependencies: boolean = false;\n\n        constructor(readonly mainTileKey: TileKey) {\n            super();\n        }\n\n        connect() {\n            // Here you could connect to the service.\n            return Promise.resolve();\n        }\n\n        ready() {\n            // Return true if connect was successful.\n            return true;\n        }\n\n        getTile(tileKey: TileKey, abortSignal?: AbortSignal): Promise<ArrayBufferLike | {}> {\n            // Generate some artificial data. Normally you would do a fetch here.\n            // In this example we create some geometry in geo space that will be converted to\n            // local world space by [[CustomDecoder.convertToLocalWorldCoordinates]]\n\n            const data = new Array<number>();\n            // Do some scaling so that the data fits into the tile.\n            const scale = 10.0 / (1 << tileKey.level);\n            data.push(0.0, 0.0);\n            for (let t = 0.0; t < Math.PI * 4; t += 0.1) {\n                const x = Math.cos(t) * t * scale;\n                const y = Math.sin(t) * t * scale * 10;\n                data.push(x, y);\n            }\n\n            if (tileKey.mortonCode() === this.mainTileKey.mortonCode()) {\n                return Promise.resolve(new Float32Array([data.length, ...data, 0]));\n            } else {\n                // Simulate that the tile contents spread over multiple tiles\n                if (\n                    this.enableTileDependencies &&\n                    (tileKey.column >= this.mainTileKey.column - 3 ||\n                        tileKey.column <= this.mainTileKey.column + 3) &&\n                    tileKey.row === this.mainTileKey.row\n                ) {\n                    //snippet:tile_dependencies.ts\n                    const { row, column, level } = this.mainTileKey;\n                    return Promise.resolve(new Float32Array([0, 1, row, column, level]));\n                    //end:tile_dependencies.ts\n                }\n            }\n            return Promise.resolve({});\n        }\n\n        /** @override */ dispose() {\n            // Nothing to be done here.\n        }\n    }\n\n    // It is not mandatory to create a derived class to represent the tiles from the\n    // CustomDataSource. It is just done here to show that it's possible.\n    class CustomTile extends Tile {}\n\n    class CustomDataSource extends TileDataSource<CustomTile> {\n        constructor(options: TileDataSourceOptions) {\n            super(new TileFactory<CustomTile>(CustomTile), options);\n        }\n    }\n\n    // Create a custom theme that will be used to style the data from the CustomDataSource.\n    function customTheme(): Theme {\n        const theme: Theme = {\n            // Create some lights for the \"standard\" technique.\n            lights: [\n                {\n                    type: \"ambient\",\n                    color: \"#FFFFFF\",\n                    name: \"ambientLight\",\n                    intensity: 0.9\n                }\n            ],\n            styles: {\n                // \"customStyleSet\" has to match the StyleSetName that is passed when creating\n                // the CustomDataSource.\n                // We distinguish different data by using the layer attribute that comes with the\n                // data.\n                customStyleSet: [\n                    {\n                        when: [\"==\", [\"get\", \"layer\"], \"line-layer\"],\n                        technique: \"solid-line\",\n                        attr: {\n                            color: \"#ff0000\",\n                            lineWidth: \"10px\",\n                            clipping: false\n                        }\n                    }\n                ]\n            }\n        };\n        return theme;\n    }\n\n    function getCanvasPosition(\n        event: MouseEvent | Touch,\n        canvas: HTMLCanvasElement\n    ): { x: number; y: number } {\n        const { left, top } = canvas.getBoundingClientRect();\n        return { x: event.clientX - Math.floor(left), y: event.clientY - Math.floor(top) };\n    }\n\n    let lastCanvasPosition: { x: number; y: number } | undefined;\n\n    // Trigger picking event only if there's (almost) no dragging.\n    function isPick(eventPosition: { x: number; y: number }) {\n        const MAX_MOVE = 5;\n        return (\n            lastCanvasPosition &&\n            Math.abs(lastCanvasPosition.x - eventPosition.x) <= MAX_MOVE &&\n            Math.abs(lastCanvasPosition.y - eventPosition.y) <= MAX_MOVE\n        );\n    }\n\n    const element = document.getElementById(\"mouse-picked-result\") as HTMLPreElement;\n    let current: PickResult | undefined;\n\n    function handlePick(mapViewUsed: MapView, x: number, y: number) {\n        // get an array of intersection results from MapView\n\n        let usableIntersections = mapViewUsed\n            .intersectMapObjects(x, y)\n            .filter(pr => (pr.intersection as any).object.userData.dataSource !== \"background\");\n        if (usableIntersections.length > 1) {\n            usableIntersections = usableIntersections.filter(item => item !== current);\n        }\n\n        if (usableIntersections.length === 0) {\n            // Hide helper box\n            element.style.visibility = \"hidden\";\n            return;\n        }\n\n        // Get userData from the first result;\n        current = usableIntersections[0];\n\n        // Show helper box\n        element.style.visibility = \"visible\";\n\n        // Display userData inside of helper box\n        element.innerText = JSON.stringify(current.point, undefined, 2);\n    }\n\n    // Create a new MapView for the HTMLCanvasElement of the given id.\n    function initializeMapView(id: string): MapView {\n        const canvas = document.getElementById(id) as HTMLCanvasElement;\n\n        const map = new MapView({\n            canvas,\n            theme: customTheme(),\n            decoderUrl: \"decoder.bundle.js\"\n        });\n\n        CopyrightElementHandler.install(\"copyrightNotice\", map);\n\n        const mapControls = new MapControls(map);\n        mapControls.tiltEnabled = false;\n\n        map.lookAt({ target: [0, 0], zoomLevel: 16 });\n        const ui = new MapControlsUI(mapControls);\n        canvas.parentElement!.appendChild(ui.domElement);\n        map.resize(window.innerWidth, window.innerHeight);\n\n        window.addEventListener(\"resize\", () => {\n            map.resize(window.innerWidth, window.innerHeight);\n        });\n\n        const customDP1 = new CustomDataProvider(new TileKey(16385, 16384, 15));\n        const customDP = new CustomDataProvider(new TileKey(16384, 16384, 15));\n\n        // snippet:tile_dependencies_create.ts\n        const customDatasource = new CustomDataSource({\n            name: \"customDatasource\",\n            styleSetName: \"customStyleSet\",\n            tilingScheme: webMercatorTilingScheme,\n            dataProvider: customDP,\n            concurrentDecoderServiceName: CUSTOM_DECODER_SERVICE_TYPE,\n            storageLevelOffset: -1\n        });\n        const customDatasource1 = new CustomDataSource({\n            name: \"customDatasource1\",\n            styleSetName: \"customStyleSet\",\n            tilingScheme: webMercatorTilingScheme,\n            dataProvider: customDP1,\n            concurrentDecoderServiceName: CUSTOM_DECODER_SERVICE_TYPE,\n            storageLevelOffset: -1\n        });\n        map.addDataSource(customDatasource1);\n        map.addDataSource(customDatasource);\n\n        // Also visualize the tile borders:\n        const debugDataSource = new DebugTileDataSource(webMercatorTilingScheme, \"debug\", 20);\n        map.addDataSource(debugDataSource);\n\n        canvas.addEventListener(\"mouseup\", event => {\n            const canvasPos = getCanvasPosition(event, canvas);\n            if (isPick(canvasPos)) {\n                handlePick(map, canvasPos.x, canvasPos.y);\n            }\n        });\n\n        canvas.addEventListener(\"mousedown\", event => {\n            lastCanvasPosition = getCanvasPosition(event, canvas);\n        });\n\n        const gui = new GUI({ width: 300 });\n        gui.add(guiOptions, \"tileDependencies\").onChange(val => {\n            customDP.enableTileDependencies = !customDP.enableTileDependencies;\n            customDP1.enableTileDependencies = !customDP1.enableTileDependencies;\n            map.clearTileCache();\n            map.update();\n        });\n        return map;\n    }\n\n    initializeMapView(\"mapCanvas\");\n\n    const instructions = `\nPan to the left / right until the tile in the center disappears.<br/>\nTo enable usage of the tile dependencies, check the checkbox,<br/>\nthe geometry will now always be visible.\nClicking on the geometry will show a box showing where you clicked.\nIf the tile dependencies checkbox is disabled, this will only work in\nthe center tile, because otherwise we assume that the contents of any\ngiven tile remain in its boundaries.`;\n    const message = document.createElement(\"div\");\n    message.style.position = \"absolute\";\n    message.style.cssFloat = \"right\";\n    message.style.top = \"60px\";\n    message.style.right = \"10px\";\n    message.style.backgroundColor = \"grey\";\n    message.innerHTML = instructions;\n    document.body.appendChild(message);\n}\n","module.exports = THREE;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = x => {}\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"tile_dependencies\": 0\n};\n\nvar deferredModules = [\n\t[\"./src/tile_dependencies.ts\",\"common\"]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = x => {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime, executeModules] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_here_harp_examples\"] = self[\"webpackChunk_here_harp_examples\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = x => {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = () => {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (x => {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\nreturn __webpack_require__.x();\n"],"sourceRoot":""}